# Змейка на Windows API

Простая реализация классической игры "Змейка" с использованием Windows API и C++.


## Установка и запуск

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/ваш-username/змейка.git
   cd змейка
   ```

2. Скомпилируйте проект (требуется Visual Studio или MinGW):
   ```bash
   cl snake.cpp user32.lib gdi32.lib
   ```

3. Запустите игру:
   ```bash
   snake.exe
   ```

## Управление

| Клавиша       | Действие               |
|---------------|------------------------|
| **Стрелки**   | Движение змейки        |
| **P**         | Пауза/продолжить игру  |
| **R**         | Рестарт после проигрыша|
| **X**         | Выход из игры          |

## Правила игры

- Управляйте змейкой с помощью клавиш-стрелок
- Собирайте красную еду (`F`) для увеличения длины и счета
- Избегайте столкновений:
  - С серыми препятствиями (`X`)
  - С собственным хвостом
  - С границами игрового поля
- За каждую съеденную еду получаете **10 очков**

## Структура проекта

### Основные функции

| Функция          | Описание                                                                 |
|------------------|--------------------------------------------------------------------------|
| `WinMain`        | Точка входа, создает окно и запускает игровой цикл                       |
| `WndProc`        | Обработчик сообщений окна                                                |
| `InitGame`       | Инициализирует игровое поле, змейку, препятствия и еду                   |
| `DrawGame`       | Отрисовывает все игровые объекты с двойной буферизацией                  |
| `MoveSnake`      | Обновляет позицию змейки и проверяет столкновения                        |
| `GenerateFood`   | Создает новую еду в случайной позиции, избегая препятствий и змейки      |

### Глобальные переменные

| Переменная       | Тип                | Описание                                     |
|------------------|--------------------|---------------------------------------------|
| `CELL_SIZE`      | `const int`        | Размер одной клетки в пикселях              |
| `WIDTH`, `HEIGHT`| `const int`        | Размеры игрового поля в клетках             |
| `SPEED`         | `const int`        | Скорость игры (задержка между ходами в мс)  |
| `snake`         | `vector<POINT>`    | Координаты сегментов змейки                 |
| `obstacles`     | `vector<POINT>`    | Координаты препятствий                      |
| `food`          | `POINT`            | Позиция еды                                 |
| `direction`     | `int`              | Направление движения (0-3)                  |
| `gameOver`      | `bool`             | Флаг окончания игры                         |
| `score`         | `int`              | Текущий счет                                |
| `paused`        | `bool`             | Флаг паузы                                  |

## Технические детали

- Используется Windows API для создания графического интерфейса
- Реализована двойная буферизация для плавной анимации
- Генерация случайных позиций для еды и препятствий
- Проверка всех возможных столкновений
- Система подсчета очков

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл [LICENSE](LICENSE) для подробностей.
